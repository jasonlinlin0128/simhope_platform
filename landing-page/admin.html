<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å¾Œå°ç®¡ç† â€” SimHope å·¥å…·ä¸­å¿ƒ</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link
        href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&family=Noto+Sans+TC:wght@400;500;700&display=swap"
        rel="stylesheet" />
    <style>
        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0
        }

        :root {
            --bg: #F8F9FC;
            --sidebar-bg: #1E1B4B;
            --sidebar-w: 240px;
            --primary: #6366F1;
            --primary-light: #EEF2FF;
            --green: #10B981;
            --orange: #F59E0B;
            --red: #EF4444;
            --blue: #3B82F6;
            --text: #111827;
            --text-mid: #6B7280;
            --text-light: #9CA3AF;
            --border: #E5E7EB;
            --white: #FFFFFF;
            --radius: 12px;
            --radius-sm: 8px;
            --pill: 999px;
            --shadow: 0 1px 4px rgba(0, 0, 0, 0.08), 0 4px 16px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.12);
        }

        body {
            font-family: 'Nunito', 'Noto Sans TC', sans-serif;
            background: var(--bg);
            color: var(--text);
            display: flex;
            min-height: 100vh
        }

        /* â”€â”€ LOGIN WALL â”€â”€ */
        #loginWall {
            display: flex;
            align-items: center;
            justify-content: center;
            position: fixed;
            inset: 0;
            z-index: 999;
            background: linear-gradient(135deg, #EEF2FF, #E0F2FE);
        }

        .login-card {
            background: white;
            border-radius: 24px;
            padding: 48px 40px;
            width: 100%;
            max-width: 400px;
            box-shadow: 0 20px 60px rgba(99, 102, 241, 0.15);
            border: 2px solid rgba(99, 102, 241, 0.1);
        }

        .login-logo {
            font-size: 2rem;
            text-align: center;
            margin-bottom: 8px
        }

        .login-title {
            font-size: 1.4rem;
            font-weight: 900;
            text-align: center;
            margin-bottom: 4px
        }

        .login-sub {
            font-size: 0.82rem;
            color: var(--text-mid);
            text-align: center;
            margin-bottom: 28px
        }

        .lf-label {
            font-size: 0.8rem;
            font-weight: 800;
            margin-bottom: 5px;
            display: block
        }

        .lf-input {
            width: 100%;
            padding: 11px 14px;
            border-radius: var(--radius-sm);
            border: 2px solid var(--border);
            font-size: 0.9rem;
            font-family: inherit;
            outline: none;
            transition: border 0.2s;
            margin-bottom: 14px;
        }

        .lf-input:focus {
            border-color: var(--primary)
        }

        .lf-error {
            font-size: 0.78rem;
            color: var(--red);
            font-weight: 700;
            min-height: 16px;
            margin-bottom: 10px
        }

        .lf-btn {
            width: 100%;
            padding: 13px;
            border-radius: var(--pill);
            background: var(--primary);
            color: white;
            font-weight: 800;
            font-size: 0.95rem;
            border: none;
            cursor: pointer;
            font-family: inherit;
            box-shadow: 0 4px 14px rgba(99, 102, 241, 0.4);
            transition: filter 0.2s;
        }

        .lf-btn:hover {
            filter: brightness(1.08)
        }

        /* â”€â”€ SIDEBAR â”€â”€ */
        #app {
            display: none;
            width: 100%
        }

        .sidebar {
            width: var(--sidebar-w);
            flex-shrink: 0;
            background: var(--sidebar-bg);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            padding: 0;
            position: fixed;
            top: 0;
            left: 0;
            bottom: 0;
            z-index: 100;
        }

        .sidebar-logo {
            padding: 24px 20px 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1rem;
            font-weight: 900;
            color: white;
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        }

        .sidebar-logo-icon {
            width: 36px;
            height: 36px;
            border-radius: 10px;
            background: linear-gradient(135deg, #818CF8, #60A5FA);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
        }

        .sidebar-nav {
            padding: 16px 12px;
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 4px
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 12px;
            border-radius: var(--radius-sm);
            color: rgba(255, 255, 255, 0.6);
            font-weight: 700;
            font-size: 0.88rem;
            cursor: pointer;
            transition: all 0.15s;
            text-decoration: none;
            border: none;
            background: none;
            width: 100%;
            text-align: left;
            font-family: inherit;
        }

        .nav-item:hover {
            color: white;
            background: rgba(255, 255, 255, 0.08)
        }

        .nav-item.active {
            color: white;
            background: rgba(99, 102, 241, 0.35)
        }

        .nav-icon {
            font-size: 1.05rem;
            width: 20px;
            text-align: center
        }

        .sidebar-footer {
            padding: 16px 12px;
            border-top: 1px solid rgba(255, 255, 255, 0.08)
        }

        .sidebar-goto {
            display: flex;
            align-items: center;
            gap: 8px;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.8rem;
            font-weight: 700;
            text-decoration: none;
            padding: 8px 12px;
            border-radius: var(--radius-sm);
            transition: all 0.15s;
        }

        .sidebar-goto:hover {
            color: white;
            background: rgba(255, 255, 255, 0.07)
        }

        .sidebar-logout {
            display: flex;
            align-items: center;
            gap: 8px;
            color: rgba(239, 68, 68, 0.7);
            font-size: 0.8rem;
            font-weight: 700;
            padding: 8px 12px;
            border-radius: var(--radius-sm);
            cursor: pointer;
            transition: all 0.15s;
            border: none;
            background: none;
            font-family: inherit;
            width: 100%;
            text-align: left;
        }

        .sidebar-logout:hover {
            color: #FCA5A5;
            background: rgba(239, 68, 68, 0.1)
        }

        /* â”€â”€ MAIN â”€â”€ */
        .main {
            margin-left: var(--sidebar-w);
            flex: 1;
            min-height: 100vh;
            display: flex;
            flex-direction: column
        }

        .topbar {
            background: white;
            border-bottom: 1px solid var(--border);
            padding: 16px 32px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 50;
        }

        .topbar-title {
            font-size: 1.1rem;
            font-weight: 900
        }

        .topbar-sub {
            font-size: 0.78rem;
            color: var(--text-mid);
            margin-top: 1px
        }

        .admin-badge {
            display: flex;
            align-items: center;
            gap: 8px;
            background: var(--primary-light);
            border-radius: var(--pill);
            padding: 7px 14px;
            font-size: 0.8rem;
            font-weight: 800;
            color: var(--primary);
        }

        .content {
            padding: 32px;
            flex: 1
        }

        /* â”€â”€ PANELS â”€â”€ */
        .panel {
            display: none
        }

        .panel.active {
            display: block
        }

        /* â”€â”€ STAT CARDS â”€â”€ */
        .stat-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 16px;
            margin-bottom: 28px
        }

        .stat-card {
            background: white;
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }

        .sc-icon {
            font-size: 1.5rem;
            margin-bottom: 8px
        }

        .sc-num {
            font-size: 1.8rem;
            font-weight: 900
        }

        .sc-label {
            font-size: 0.78rem;
            color: var(--text-mid);
            font-weight: 700
        }

        /* â”€â”€ CARD / BOX â”€â”€ */
        .box {
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
            margin-bottom: 24px;
            overflow: hidden;
        }

        .box-header {
            padding: 18px 24px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .box-title {
            font-size: 0.95rem;
            font-weight: 900
        }

        .box-body {
            padding: 24px
        }

        .box-desc {
            font-size: 0.82rem;
            color: var(--text-mid);
            margin-top: 2px
        }

        /* â”€â”€ BUTTONS â”€â”€ */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 9px 18px;
            border-radius: var(--radius-sm);
            font-weight: 800;
            font-size: 0.82rem;
            border: none;
            cursor: pointer;
            font-family: inherit;
            transition: filter 0.15s, transform 0.15s;
        }

        .btn:hover {
            filter: brightness(1.06);
            transform: translateY(-1px)
        }

        .btn-primary {
            background: var(--primary);
            color: white;
            box-shadow: 0 3px 10px rgba(99, 102, 241, 0.35)
        }

        .btn-success {
            background: var(--green);
            color: white;
            box-shadow: 0 3px 10px rgba(16, 185, 129, 0.3)
        }

        .btn-danger {
            background: rgba(239, 68, 68, 0.1);
            color: var(--red);
            border: 1.5px solid rgba(239, 68, 68, 0.2)
        }

        .btn-ghost {
            background: #F3F4F6;
            color: var(--text-mid)
        }

        .btn-sm {
            padding: 6px 12px;
            font-size: 0.75rem
        }

        .btn-icon {
            width: 32px;
            height: 32px;
            padding: 0;
            justify-content: center;
            border-radius: var(--radius-sm)
        }

        /* â”€â”€ TABLE â”€â”€ */
        .data-table {
            width: 100%;
            border-collapse: collapse
        }

        .data-table th {
            text-align: left;
            font-size: 0.72rem;
            font-weight: 800;
            color: var(--text-light);
            letter-spacing: .5px;
            text-transform: uppercase;
            padding: 10px 14px;
            border-bottom: 2px solid var(--border);
            background: #FAFAFA;
        }

        .data-table td {
            padding: 14px;
            border-bottom: 1px solid var(--border);
            font-size: 0.85rem;
            vertical-align: middle;
        }

        .data-table tr:last-child td {
            border-bottom: none
        }

        .data-table tr:hover td {
            background: #FAFBFF
        }

        .td-icon {
            font-size: 1.4rem;
            width: 36px;
            text-align: center
        }

        .td-title {
            font-weight: 800
        }

        .td-sub {
            font-size: 0.75rem;
            color: var(--text-mid);
            margin-top: 2px
        }

        .td-actions {
            display: flex;
            gap: 6px;
            align-items: center
        }

        /* â”€â”€ BADGES â”€â”€ */
        .badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            border-radius: var(--pill);
            padding: 3px 10px;
            font-size: 0.72rem;
            font-weight: 800
        }

        .badge-live {
            background: rgba(16, 185, 129, 0.12);
            color: #047857
        }

        .badge-beta {
            background: rgba(245, 158, 11, 0.12);
            color: #92400E
        }

        .badge-new {
            background: rgba(59, 130, 246, 0.12);
            color: #1D4ED8
        }

        .badge-dot {
            width: 5px;
            height: 5px;
            border-radius: 50%
        }

        .badge-live .badge-dot {
            background: var(--green)
        }

        .badge-beta .badge-dot {
            background: var(--orange)
        }

        .badge-new .badge-dot {
            background: var(--blue)
        }

        /* â”€â”€ MODAL â”€â”€ */
        .modal-overlay {
            display: none;
            position: fixed;
            inset: 0;
            z-index: 200;
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(4px);
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal-overlay.open {
            display: flex
        }

        .modal {
            background: white;
            border-radius: 20px;
            padding: 0;
            width: 100%;
            max-width: 700px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 24px 64px rgba(0, 0, 0, 0.2);
            animation: modalIn 0.25s cubic-bezier(.22, 1, .36, 1);
        }

        @keyframes modalIn {
            from {
                transform: scale(0.92) translateY(16px);
                opacity: 0
            }

            to {
                transform: scale(1);
                opacity: 1
            }
        }

        .modal-header {
            padding: 24px 28px 20px;
            border-bottom: 1px solid var(--border);
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            background: white;
            z-index: 1;
            border-radius: 20px 20px 0 0;
        }

        .modal-title {
            font-size: 1rem;
            font-weight: 900
        }

        .modal-close {
            width: 30px;
            height: 30px;
            border-radius: 8px;
            background: #F3F4F6;
            border: none;
            cursor: pointer;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.15s;
        }

        .modal-close:hover {
            background: #E5E7EB
        }

        .modal-body {
            padding: 28px
        }

        .modal-footer {
            padding: 16px 28px;
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            position: sticky;
            bottom: 0;
            background: white;
            border-radius: 0 0 20px 20px;
        }

        /* â”€â”€ FORM â”€â”€ */
        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px
        }

        .form-grid.cols-1 {
            grid-template-columns: 1fr
        }

        .fg {
            display: flex;
            flex-direction: column;
            gap: 5px
        }

        .fg.span2 {
            grid-column: span 2
        }

        .fl {
            font-size: 0.78rem;
            font-weight: 800;
            color: var(--text)
        }

        .fl-hint {
            font-size: 0.72rem;
            color: var(--text-light);
            font-weight: 600;
            margin-left: 4px
        }

        .fi {
            padding: 10px 14px;
            border-radius: var(--radius-sm);
            border: 2px solid var(--border);
            font-size: 0.88rem;
            font-family: inherit;
            outline: none;
            transition: border 0.2s;
        }

        .fi:focus {
            border-color: var(--primary)
        }

        .fi-select {
            cursor: pointer
        }

        .fi-textarea {
            resize: vertical;
            min-height: 80px
        }

        .fi-emoji {
            font-size: 1.4rem;
            width: 52px;
            height: 42px;
            text-align: center;
            cursor: pointer
        }

        .form-section {
            font-size: 0.72rem;
            font-weight: 800;
            letter-spacing: .5px;
            text-transform: uppercase;
            color: var(--text-light);
            margin: 20px 0 12px;
            padding-bottom: 6px;
            border-bottom: 1px solid var(--border)
        }

        .steps-row {
            display: flex;
            gap: 8px;
            align-items: center
        }

        .step-input {
            flex: 1;
            padding: 8px 12px;
            border-radius: var(--radius-sm);
            border: 2px solid var(--border);
            font-size: 0.85rem;
            font-family: inherit;
            outline: none
        }

        .step-input:focus {
            border-color: var(--primary)
        }

        .step-sep {
            color: var(--green);
            font-weight: 900;
            font-size: 1rem
        }

        .tags-input-wrap {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            padding: 8px;
            border: 2px solid var(--border);
            border-radius: var(--radius-sm);
            min-height: 42px;
            cursor: text;
            transition: border 0.2s
        }

        .tags-input-wrap:focus-within {
            border-color: var(--primary)
        }

        .tag-pill-remove {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            background: var(--primary-light);
            color: var(--primary);
            border-radius: var(--pill);
            padding: 3px 10px;
            font-size: 0.75rem;
            font-weight: 800;
        }

        .tag-pill-remove button {
            background: none;
            border: none;
            cursor: pointer;
            color: var(--primary);
            font-size: 0.8rem;
            line-height: 1;
            padding: 0 0 0 2px
        }

        .tags-raw-input {
            border: none;
            outline: none;
            font-family: inherit;
            font-size: 0.85rem;
            min-width: 80px;
            flex: 1
        }

        .color-picker {
            display: flex;
            gap: 8px;
            flex-wrap: wrap
        }

        .color-opt {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            cursor: pointer;
            border: 2.5px solid transparent;
            transition: transform 0.15s;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .color-opt:hover {
            transform: scale(1.1)
        }

        .color-opt.selected {
            border-color: var(--text);
            box-shadow: 0 0 0 3px rgba(0, 0, 0, 0.12)
        }

        .co-c1 {
            background: linear-gradient(135deg, #A78BFA, #60A5FA)
        }

        .co-c2 {
            background: linear-gradient(135deg, #FF6B6B, #FB923C)
        }

        .co-c3 {
            background: linear-gradient(135deg, #34D399, #60A5FA)
        }

        .co-c4 {
            background: linear-gradient(135deg, #F472B6, #A78BFA)
        }

        .co-c5 {
            background: linear-gradient(135deg, #FFD166, #FB923C)
        }

        .co-c6 {
            background: linear-gradient(135deg, #60A5FA, #34D399)
        }

        /* Site settings form */
        .settings-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px
        }

        /* â”€â”€ TOAST â”€â”€ */
        #toast {
            position: fixed;
            bottom: 28px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--text);
            color: white;
            padding: 10px 22px;
            border-radius: var(--pill);
            font-size: 0.83rem;
            font-weight: 800;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
            z-index: 9999;
            opacity: 0;
            transition: opacity 0.3s;
            white-space: nowrap;
        }

        #toast.show {
            opacity: 1
        }

        /* â”€â”€ EMPTY STATE â”€â”€ */
        .empty-state {
            text-align: center;
            padding: 48px 20px;
            color: var(--text-mid)
        }

        .empty-icon {
            font-size: 2.5rem;
            margin-bottom: 12px
        }

        .empty-title {
            font-weight: 800;
            margin-bottom: 6px
        }

        .empty-desc {
            font-size: 0.85rem
        }

        /* â”€â”€ SPEC BOX â”€â”€ */
        .spec-box {
            background: var(--primary-light);
            border: 1.5px solid rgba(99, 102, 241, 0.2);
            border-radius: var(--radius);
            padding: 16px 20px;
            margin-bottom: 20px
        }

        .spec-title {
            font-size: 0.8rem;
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 10px
        }

        .spec-row {
            display: flex;
            gap: 8px;
            align-items: flex-start;
            margin-bottom: 6px
        }

        .spec-key {
            font-size: 0.75rem;
            font-weight: 800;
            color: var(--primary);
            min-width: 70px;
            flex-shrink: 0;
            margin-top: 1px
        }

        .spec-val {
            font-size: 0.78rem;
            color: #3730A3;
            line-height: 1.5
        }

        .req {
            color: var(--red);
            font-size: 0.75rem;
            margin-left: 2px
        }

        @media(max-width:768px) {
            .sidebar {
                transform: translateX(-100%)
            }

            .main {
                margin-left: 0
            }

            .form-grid {
                grid-template-columns: 1fr
            }

            .fg.span2 {
                grid-column: span 1
            }

            .settings-grid {
                grid-template-columns: 1fr
            }
        }
    </style>
</head>

<body>

    <!-- LOGIN WALL -->
    <div id="loginWall">
        <div class="login-card">
            <div class="login-logo">ğŸ­</div>
            <h1 class="login-title">å¾Œå°ç®¡ç†ç³»çµ±</h1>
            <p class="login-sub">SimHope AI å·¥å…·ä¸­å¿ƒ Â· ç®¡ç†å“¡å°ˆç”¨</p>
            <label class="lf-label" for="lu">å¸³è™Ÿ</label>
            <input class="lf-input" type="text" id="lu" placeholder="simhope" autocomplete="username" />
            <label class="lf-label" for="lp">å¯†ç¢¼</label>
            <input class="lf-input" type="password" id="lp" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" autocomplete="current-password" />
            <p class="lf-error" id="le"></p>
            <button class="lf-btn" onclick="doAdminLogin()">ç™»å…¥å¾Œå°</button>
        </div>
    </div>

    <!-- APP SHELL -->
    <div id="app">

        <!-- SIDEBAR -->
        <aside class="sidebar">
            <div class="sidebar-logo">
                <div class="sidebar-logo-icon">ğŸ­</div>
                SimHope å¾Œå°
            </div>
            <nav class="sidebar-nav">
                <button class="nav-item active" onclick="showPanel('dashboard',this)"><span
                        class="nav-icon">ğŸ“Š</span>ç¸½è¦½</button>
                <button class="nav-item" onclick="showPanel('tools',this)"><span class="nav-icon">ğŸ§°</span>å·¥å…·ç®¡ç†</button>
                <button class="nav-item" onclick="showPanel('hero',this)"><span class="nav-icon">ğŸ </span>é¦–é è¨­å®š</button>
                <button class="nav-item" onclick="showPanel('about',this)"><span
                        class="nav-icon">ğŸ‘¤</span>é—œæ–¼æˆ‘è¨­å®š</button>
                <button class="nav-item" onclick="showPanel('spec',this)"><span
                        class="nav-icon">ğŸ“‹</span>ä¸Šå‚³è¦ç¯„èªªæ˜</button>
            </nav>
            <div class="sidebar-footer">
                <a href="index.html" target="_blank" class="sidebar-goto">ğŸ”— æŸ¥çœ‹å…¬é–‹é é¢</a>
                <button class="sidebar-logout" onclick="doAdminLogout()">ğŸšª ç™»å‡º</button>
            </div>
        </aside>

        <!-- MAIN -->
        <main class="main">
            <div class="topbar">
                <div>
                    <div class="topbar-title" id="panelTitle">ç¸½è¦½</div>
                    <div class="topbar-sub" id="panelSub">æ­¡è¿ä½¿ç”¨ SimHope å¾Œå°ç®¡ç†ç³»çµ±</div>
                </div>
                <div class="admin-badge">âš™ï¸ ç®¡ç†å“¡æ¨¡å¼</div>
            </div>
            <div class="content">

                <!-- DASHBOARD -->
                <div class="panel active" id="panel-dashboard">
                    <div class="stat-grid" id="dashStats"></div>
                    <div class="box">
                        <div class="box-header">
                            <div>
                                <div class="box-title">ğŸ“‹ å¿«é€Ÿå°è¦½</div>
                                <div class="box-desc">å„åŠŸèƒ½èªªæ˜</div>
                            </div>
                        </div>
                        <div class="box-body">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>åŠŸèƒ½</th>
                                        <th>èªªæ˜</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>ğŸ§° å·¥å…·ç®¡ç†</strong></td>
                                        <td>æ–°å¢ã€ç·¨è¼¯ã€åˆªé™¤å·¥å…·å¡ç‰‡ï¼Œèª¿æ•´æ’åºèˆ‡ç‹€æ…‹</td>
                                    </tr>
                                    <tr>
                                        <td><strong>ğŸ  é¦–é è¨­å®š</strong></td>
                                        <td>ä¿®æ”¹ Hero æ¨™é¡Œã€å‰¯æ¨™é¡Œã€çµ±è¨ˆæ•¸å­—</td>
                                    </tr>
                                    <tr>
                                        <td><strong>ğŸ‘¤ é—œæ–¼æˆ‘è¨­å®š</strong></td>
                                        <td>ä¿®æ”¹å§“åã€è·ç¨±ã€éƒ¨é–€ã€è‡ªæˆ‘ä»‹ç´¹</td>
                                    </tr>
                                    <tr>
                                        <td><strong>ğŸ“‹ ä¸Šå‚³è¦ç¯„èªªæ˜</strong></td>
                                        <td>æŸ¥çœ‹æ–°å¢å·¥å…·æ™‚å„æ¬„ä½çš„å¡«å¯«è¦ç¯„</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- TOOLS -->
                <div class="panel" id="panel-tools">
                    <div class="box">
                        <div class="box-header">
                            <div>
                                <div class="box-title">å·¥å…·åˆ—è¡¨</div>
                                <div class="box-desc">æ‹–æ›³åˆ—å¯èª¿æ•´é¦–é æ’åº</div>
                            </div>
                            <button class="btn btn-primary" onclick="openToolModal()">ï¼‹ æ–°å¢å·¥å…·</button>
                        </div>
                        <div style="overflow-x:auto">
                            <table class="data-table" id="toolTable">
                                <thead>
                                    <tr>
                                        <th style="width:40px"></th>
                                        <th>å·¥å…·</th>
                                        <th>é©ç”¨éƒ¨é–€</th>
                                        <th>ç‹€æ…‹</th>
                                        <th>æ¨™ç±¤</th>
                                        <th>æ“ä½œ</th>
                                    </tr>
                                </thead>
                                <tbody id="toolTableBody"></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- HERO -->
                <div class="panel" id="panel-hero">
                    <div class="box">
                        <div class="box-header">
                            <div class="box-title">é¦–é  Hero å€å¡Šè¨­å®š</div>
                        </div>
                        <div class="box-body">
                            <div class="settings-grid">
                                <div class="fg"><label class="fl">Hero ä¸»æ¨™é¡Œ</label><input class="fi" id="s-heroTitle"
                                        type="text" /></div>
                                <div class="fg"><label class="fl">Hero æè¿°æ–‡å­—</label><input class="fi" id="s-heroDesc"
                                        type="text" /></div>
                                <div class="fg"><label class="fl">çµ±è¨ˆï¼šå·¥å…·æ•¸é‡</label><input class="fi" id="s-statTools"
                                        type="number" min="0" /></div>
                                <div class="fg"><label class="fl">çµ±è¨ˆï¼šä½¿ç”¨åŒä»ï¼ˆäººï¼‰</label><input class="fi" id="s-statUsers"
                                        type="number" min="0" /></div>
                                <div class="fg"><label class="fl">çµ±è¨ˆï¼šæ¯é€±çœä¸‹ï¼ˆå°æ™‚ï¼‰</label><input class="fi" id="s-statHours"
                                        type="number" min="0" /></div>
                                <div class="fg"><label class="fl">ç¶²ç«™åç¨±</label><input class="fi" id="s-siteName"
                                        type="text" /></div>
                            </div>
                            <div style="margin-top:20px">
                                <button class="btn btn-success" onclick="saveHero()">ğŸ’¾ å„²å­˜é¦–é è¨­å®š</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ABOUT -->
                <div class="panel" id="panel-about">
                    <div class="box">
                        <div class="box-header">
                            <div class="box-title">é—œæ–¼æˆ‘ å€å¡Šè¨­å®š</div>
                        </div>
                        <div class="box-body">
                            <div class="settings-grid">
                                <div class="fg"><label class="fl">å§“å / æš±ç¨±</label><input class="fi" id="a-name"
                                        type="text" /></div>
                                <div class="fg"><label class="fl">è·ç¨±</label><input class="fi" id="a-role" type="text" />
                                </div>
                                <div class="fg" style="grid-column:span 2"><label class="fl">éƒ¨é–€ / æ¥­å‹™æè¿°</label><input
                                        class="fi" id="a-dept" type="text" /></div>
                                <div class="fg" style="grid-column:span 2">
                                    <label class="fl">è‡ªæˆ‘ä»‹ç´¹<span class="fl-hint">ï¼ˆæ”¯æ´ &lt;strong&gt; åŠ ç²—ï¼‰</span></label>
                                    <textarea class="fi fi-textarea" id="a-bio" rows="4"></textarea>
                                </div>
                                <div class="fg"><label class="fl">è¯çµ¡ Email</label><input class="fi" id="a-email"
                                        type="email" /></div>
                            </div>
                            <div style="margin-top:20px">
                                <button class="btn btn-success" onclick="saveAbout()">ğŸ’¾ å„²å­˜é—œæ–¼è¨­å®š</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SPEC -->
                <div class="panel" id="panel-spec">
                    <div class="box">
                        <div class="box-header">
                            <div class="box-title">ğŸ“‹ å·¥å…·ä¸Šå‚³è¦ç¯„èªªæ˜</div>
                            <div class="box-desc">å¡«å¯«æ–°å¢å·¥å…·è¡¨å–®æ™‚çš„æ¬„ä½è¦ç¯„</div>
                        </div>
                        <div class="box-body">
                            <div class="spec-box">
                                <div class="spec-title">ğŸ“Œ å¿…å¡«æ¬„ä½èªªæ˜</div>
                                <div class="spec-row"><span class="spec-key">å·¥å…·åç¨±<span class="req">*</span></span><span
                                        class="spec-val">ç°¡çŸ­æœ‰åŠ›ï¼Œæœ€å¤š 20 å­—ã€‚ç›´æ¥èªªåŠŸèƒ½ï¼Œä¾‹å¦‚ã€Œç¾å ´å³æ™‚ç¿»è­¯ã€è€Œéã€Œç¿»è­¯ç³»çµ±ã€</span></div>
                                <div class="spec-row"><span class="spec-key">å‰¯æ¨™é¡Œ<span class="req">*</span></span><span
                                        class="spec-val">ä¸€å¥è©±èªªæ¸…æ¥šæ ¸å¿ƒåƒ¹å€¼ï¼Œæœ€å¤š 30 å­—ã€‚æ ¼å¼å»ºè­°ï¼šã€Œ[å‹•ä½œ] + [çµæœ]ã€ï¼Œä¾‹å¦‚ã€Œä¸Šå‚³åˆç´„ï¼Œ5
                                        åˆ†é˜æ‰¾å‡ºåœ°é›·æ¢æ¬¾ã€</span></div>
                                <div class="spec-row"><span class="spec-key">åŠŸèƒ½èªªæ˜<span class="req">*</span></span><span
                                        class="spec-val">50ï½100 å­—ã€‚å¾ä½¿ç”¨è€…è§’åº¦æè¿°ï¼Œé¿å…æŠ€è¡“è¡“èªã€‚èªªæ˜ã€Œè§£æ±ºä»€éº¼å•é¡Œã€ã€Œæ€éº¼ç”¨ã€ã€Œæœ‰ä½•å¥½è™•ã€</span></div>
                                <div class="spec-row"><span class="spec-key">é©ç”¨éƒ¨é–€<span class="req">*</span></span><span
                                        class="spec-val">é¸æ“‡æœ€ä¸»è¦çš„ç›®æ¨™ä½¿ç”¨éƒ¨é–€ã€‚æœƒé¡¯ç¤ºåœ¨å¡ç‰‡ä¸Šè®“åŒä»å¿«é€Ÿåˆ¤æ–·æ˜¯å¦ç›¸é—œ</span></div>
                                <div class="spec-row"><span class="spec-key">ä½¿ç”¨æ­¥é©Ÿ<span class="req">*</span></span><span
                                        class="spec-val">å›ºå®š 3 å€‹æ­¥é©Ÿï¼ˆStep 1 â†’ 2 â†’ 3ï¼‰ï¼Œæ¯æ­¥æœ€å¤š 8
                                        å­—ï¼Œç”¨å‹•è©é–‹é ­ã€‚ä¾‹å¦‚ï¼šã€Œä¸Šå‚³æ–‡ä»¶ã€â†’ã€Œè¼¸å…¥å•é¡Œã€â†’ã€ŒæŸ¥çœ‹ç­”æ¡ˆã€</span></div>
                                <div class="spec-row"><span class="spec-key">å·¥å…·é€£çµ<span class="req">*</span></span><span
                                        class="spec-val">å·¥å…·å¯¦éš›å¯ä½¿ç”¨çš„ URLã€‚è‹¥å°šæœªéƒ¨ç½²è«‹å¡« # æˆ–èªªæ˜é€£çµ</span></div>
                            </div>
                            <div class="spec-box" style="background:#F0FDF4;border-color:rgba(16,185,129,0.25)">
                                <div class="spec-title" style="color:#047857">âœ… é¸å¡«æ¬„ä½èªªæ˜</div>
                                <div class="spec-row"><span class="spec-key" style="color:#047857">Icon</span><span
                                        class="spec-val" style="color:#064E3B">ä»»æ„ emojiï¼Œå»ºè­°é¸èˆ‡åŠŸèƒ½ç›¸é—œçš„ã€‚é è¨­ç‚º ğŸ› ï¸</span></div>
                                <div class="spec-row"><span class="spec-key" style="color:#047857">ç‹€æ…‹</span><span
                                        class="spec-val" style="color:#064E3B">ã€Œä½¿ç”¨ä¸­ã€= å·²æ­£å¼ä¸Šç·šï¼›ã€Œæ¸¬è©¦ä¸­ã€= åŠŸèƒ½é‚„åœ¨é©—è­‰ï¼›ã€Œæ–°ä¸Šç·šã€=
                                        æœ¬æœˆå‰›ç™¼å¸ƒ</span></div>
                                <div class="spec-row"><span class="spec-key" style="color:#047857">å¡ç‰‡é¡è‰²</span><span
                                        class="spec-val" style="color:#064E3B">6 ç¨®è‰²å½©ä¸»é¡Œï¼Œå»ºè­°åŒé¡å‹å·¥å…·ç”¨åŒé¡è‰²ä»¥å»ºç«‹è¦–è¦ºåˆ†ç¾¤</span></div>
                                <div class="spec-row"><span class="spec-key" style="color:#047857">æ¨™ç±¤</span><span
                                        class="spec-val" style="color:#064E3B">3ï½5 å€‹é—œéµå­—ï¼ŒæŒ‰ Enter æˆ–é€—è™Ÿç¢ºèªã€‚ç”¨æ–¼æœå°‹èˆ‡åˆ†é¡</span>
                                </div>
                            </div>
                            <div class="spec-box" style="background:#FFF7ED;border-color:rgba(245,158,11,0.25)">
                                <div class="spec-title" style="color:#92400E">âš ï¸ æ’°å¯«æ³¨æ„äº‹é …</div>
                                <div class="spec-row"><span class="spec-key" style="color:#92400E">èªæ°£</span><span
                                        class="spec-val"
                                        style="color:#78350F">é¢å‘éæŠ€è¡“èƒŒæ™¯çš„åŒä»ã€‚é¿å…å‡ºç¾ã€ŒAPIã€ã€ŒRAGã€ã€Œå‘é‡ã€ã€Œæ¨¡å‹ã€ç­‰æŠ€è¡“è©å½™</span></div>
                                <div class="spec-row"><span class="spec-key" style="color:#92400E">æ–‡å­—é•·åº¦</span><span
                                        class="spec-val" style="color:#78350F">èªªæ˜æ–‡å­—è¶…é 100 å­—æ™‚å¡ç‰‡æ’ç‰ˆæœƒè·‘æ‰ï¼Œè«‹åš´æ ¼æ§åˆ¶</span></div>
                                <div class="spec-row"><span class="spec-key" style="color:#78350F">é€£çµæ¸¬è©¦</span><span
                                        class="spec-val" style="color:#78350F">ç™¼å¸ƒå‰è«‹ç¢ºèªå·¥å…· URL å¯æ­£å¸¸é–‹å•Ÿï¼Œä¸è¦å¡«æ¸¬è©¦ç’°å¢ƒ localhost
                                        é€£çµ</span></div>
                            </div>
                        </div>
                    </div>
                </div>

            </div><!-- /content -->
        </main>
    </div><!-- /app -->

    <!-- TOOL MODAL -->
    <div class="modal-overlay" id="toolModal">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title" id="toolModalTitle">æ–°å¢å·¥å…·</h2>
                <button class="modal-close" onclick="closeToolModal()">âœ•</button>
            </div>
            <div class="modal-body">
                <input type="hidden" id="tm-id" />
                <div class="form-section">åŸºæœ¬è³‡è¨Š</div>
                <div class="form-grid">
                    <div class="fg">
                        <label class="fl">Icon <span class="fl-hint">ï¼ˆemojiï¼‰</span></label>
                        <input class="fi fi-emoji" type="text" id="tm-icon" value="ğŸ› ï¸" maxlength="2" />
                    </div>
                    <div class="fg">
                        <label class="fl">å·¥å…·åç¨±<span class="req">*</span></label>
                        <input class="fi" type="text" id="tm-title" placeholder="ä¾‹ï¼šç¾å ´å³æ™‚ç¿»è­¯" maxlength="30" />
                    </div>
                    <div class="fg span2">
                        <label class="fl">å‰¯æ¨™é¡Œ<span class="req">*</span> <span class="fl-hint">ï¼ˆä¸€å¥è©±èªªæ¸…æ¥šæ ¸å¿ƒåƒ¹å€¼ï¼Œæœ€å¤š 30
                                å­—ï¼‰</span></label>
                        <input class="fi" type="text" id="tm-tagline" placeholder="ä¾‹ï¼šæ³°æ–‡ â†” ä¸­æ–‡ â†” è‹±æ–‡ï¼Œä¸‰èªå³æ™‚åˆ‡æ›"
                            maxlength="40" />
                    </div>
                    <div class="fg span2">
                        <label class="fl">åŠŸèƒ½èªªæ˜<span class="req">*</span> <span class="fl-hint">ï¼ˆ50ï½100
                                å­—ï¼Œè«‹ç”¨åŒä»è½å¾—æ‡‚çš„èªæ°£ï¼‰</span></label>
                        <textarea class="fi fi-textarea" id="tm-desc" rows="3" placeholder="å¾ä½¿ç”¨è€…è§’åº¦æè¿°ï¼šè§£æ±ºä»€éº¼å•é¡Œã€æ€éº¼ç”¨ã€æœ‰ä½•å¥½è™•â€¦"
                            maxlength="200"></textarea>
                    </div>
                    <div class="fg">
                        <label class="fl">é©ç”¨éƒ¨é–€<span class="req">*</span></label>
                        <select class="fi fi-select" id="tm-dept">
                            <option value="factory">ğŸ­ ç”Ÿç”¢ç¾å ´</option>
                            <option value="admin">ğŸ“‹ è¡Œæ”¿/æ–‡æ›¸</option>
                            <option value="mgmt">ğŸ‘” ä¸»ç®¡/ç®¡ç†</option>
                            <option value="quality">ğŸ”§ å“ç®¡/å·¥ç¨‹</option>
                            <option value="defense">ğŸ›¡ï¸ åœ‹é˜²/å°ˆæ¡ˆ</option>
                            <option value="other">ğŸ”¹ å…¶ä»–</option>
                        </select>
                    </div>
                    <div class="fg">
                        <label class="fl">ç‹€æ…‹</label>
                        <select class="fi fi-select" id="tm-status">
                            <option value="live">âœ… ä½¿ç”¨ä¸­</option>
                            <option value="beta">ğŸ”¶ æ¸¬è©¦ä¸­</option>
                            <option value="new">ğŸ”µ æ–°ä¸Šç·š</option>
                        </select>
                    </div>
                    <div class="fg">
                        <label class="fl">å·¥å…·é€£çµ<span class="req">*</span></label>
                        <input class="fi" type="url" id="tm-url" placeholder="https://" />
                    </div>
                    <div class="fg">
                        <label class="fl">å¡ç‰‡é¡è‰²ä¸»é¡Œ</label>
                        <div class="color-picker" id="colorPicker">
                            <div class="color-opt co-c1 selected" data-color="c1" onclick="selectColor(this,'c1')">
                            </div>
                            <div class="color-opt co-c2" data-color="c2" onclick="selectColor(this,'c2')"></div>
                            <div class="color-opt co-c3" data-color="c3" onclick="selectColor(this,'c3')"></div>
                            <div class="color-opt co-c4" data-color="c4" onclick="selectColor(this,'c4')"></div>
                            <div class="color-opt co-c5" data-color="c5" onclick="selectColor(this,'c5')"></div>
                            <div class="color-opt co-c6" data-color="c6" onclick="selectColor(this,'c6')"></div>
                        </div>
                    </div>
                </div>

                <div class="form-section">ä½¿ç”¨æ­¥é©Ÿï¼ˆå›ºå®š 3 æ­¥ï¼Œæ¯æ­¥æœ€å¤š 8 å­—ï¼‰</div>
                <div class="steps-row">
                    <input class="step-input" id="tm-s1" placeholder="æ­¥é©Ÿ 1" maxlength="10" />
                    <span class="step-sep">â†’</span>
                    <input class="step-input" id="tm-s2" placeholder="æ­¥é©Ÿ 2" maxlength="10" />
                    <span class="step-sep">â†’</span>
                    <input class="step-input" id="tm-s3" placeholder="æ­¥é©Ÿ 3" maxlength="10" />
                </div>

                <div class="form-section">æ¨™ç±¤ <span class="fl-hint">ï¼ˆè¼¸å…¥å¾ŒæŒ‰ Enter æˆ–é€—è™Ÿç¢ºèªï¼Œå»ºè­° 3ï½5 å€‹ï¼‰</span></div>
                <div class="tags-input-wrap" id="tagsWrap" onclick="document.getElementById('tagsRaw').focus()">
                    <input class="tags-raw-input" id="tagsRaw" placeholder="è¼¸å…¥æ¨™ç±¤å¾ŒæŒ‰ Enterâ€¦" />
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-ghost" onclick="closeToolModal()">å–æ¶ˆ</button>
                <button class="btn btn-primary" onclick="saveTool()">ğŸ’¾ å„²å­˜å·¥å…·</button>
            </div>
        </div>
    </div>

    <div id="toast"></div>

    <script src="data.js"></script>
    <script>
        const ADMIN_USER = 'simhope', ADMIN_PASS = 'simhope2026';

        // â”€â”€ Auth â”€â”€
        function doAdminLogin() {
            const u = document.getElementById('lu').value.trim();
            const p = document.getElementById('lp').value;
            if (u === ADMIN_USER && p === ADMIN_PASS) {
                sessionStorage.setItem('admin_auth', '1');
                document.getElementById('loginWall').style.display = 'none';
                document.getElementById('app').style.display = 'flex';
                init();
            } else {
                document.getElementById('le').textContent = 'å¸³è™Ÿæˆ–å¯†ç¢¼éŒ¯èª¤';
                document.getElementById('lp').value = '';
                document.getElementById('lp').focus();
            }
        }
        function doAdminLogout() {
            sessionStorage.removeItem('admin_auth');
            location.reload();
        }
        document.getElementById('lp').addEventListener('keydown', e => { if (e.key === 'Enter') doAdminLogin() });
        document.getElementById('lu').addEventListener('keydown', e => { if (e.key === 'Enter') document.getElementById('lp').focus() });
        if (sessionStorage.getItem('admin_auth') === '1') {
            document.getElementById('loginWall').style.display = 'none';
            document.getElementById('app').style.display = 'flex';
            setTimeout(init, 0);
        }

        // â”€â”€ Panel navigation â”€â”€
        function showPanel(id, btn) {
            document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
            document.getElementById('panel-' + id).classList.add('active');
            if (btn) btn.classList.add('active');
            const titles = { dashboard: ['ç¸½è¦½', 'æ­¡è¿ä½¿ç”¨ SimHope å¾Œå°ç®¡ç†ç³»çµ±'], tools: ['å·¥å…·ç®¡ç†', 'æ–°å¢ã€ç·¨è¼¯ã€åˆªé™¤å·¥å…·å¡ç‰‡'], hero: ['é¦–é è¨­å®š', 'ä¿®æ”¹ Hero æ¨™é¡Œèˆ‡çµ±è¨ˆæ•¸å­—'], about: ['é—œæ–¼æˆ‘è¨­å®š', 'ä¿®æ”¹å€‹äººè³‡è¨Š'], spec: ['ä¸Šå‚³è¦ç¯„èªªæ˜', 'å¡«å¯«å·¥å…·è³‡æ–™çš„æ¬„ä½è¦ç¯„'] };
            const t = titles[id] || ['', ''];
            document.getElementById('panelTitle').textContent = t[0];
            document.getElementById('panelSub').textContent = t[1];
            if (id === 'tools') renderToolTable();
            if (id === 'hero') loadHeroForm();
            if (id === 'about') loadAboutForm();
        }

        // â”€â”€ Init â”€â”€
        function init() {
            renderDashboard();
            renderToolTable();
            loadHeroForm();
            loadAboutForm();
        }

        // â”€â”€ Toast â”€â”€
        function showToast(msg) {
            const t = document.getElementById('toast');
            t.textContent = msg; t.classList.add('show');
            setTimeout(() => t.classList.remove('show'), 2200);
        }

        // â”€â”€ Dashboard â”€â”€
        function renderDashboard() {
            const tools = DB.getTools();
            const live = tools.filter(t => t.status === 'live').length;
            const beta = tools.filter(t => t.status === 'beta').length;
            document.getElementById('dashStats').innerHTML = `
      <div class="stat-card"><div class="sc-icon">ğŸ§°</div><div class="sc-num">${tools.length}</div><div class="sc-label">å·¥å…·ç¸½æ•¸</div></div>
      <div class="stat-card"><div class="sc-icon">âœ…</div><div class="sc-num">${live}</div><div class="sc-label">æ­£å¼ä¸Šç·š</div></div>
      <div class="stat-card"><div class="sc-icon">ğŸ”¶</div><div class="sc-num">${beta}</div><div class="sc-label">æ¸¬è©¦ä¸­</div></div>
      <div class="stat-card"><div class="sc-icon">ğŸ”µ</div><div class="sc-num">${tools.filter(t => t.status === 'new').length}</div><div class="sc-label">æ–°ä¸Šç·š</div></div>
    `;
        }

        // â”€â”€ Tool Table â”€â”€
        function renderToolTable() {
            const tools = DB.getTools();
            const tbody = document.getElementById('toolTableBody');
            if (!tools.length) { tbody.innerHTML = `<tr><td colspan="6"><div class="empty-state"><div class="empty-icon">ğŸ“­</div><div class="empty-title">å°šç„¡å·¥å…·</div><div class="empty-desc">é»æ“Šã€Œæ–°å¢å·¥å…·ã€é–‹å§‹å»ºç«‹</div></div></td></tr>`; return; }
            tbody.innerHTML = tools.map((t, i) => `
      <tr>
        <td class="td-icon">${t.icon}</td>
        <td><div class="td-title">${t.title}</div><div class="td-sub">${t.tagline}</div></td>
        <td>${DB.DEPTS[t.dept]?.label || t.dept}</td>
        <td><span class="badge badge-${t.status}"><span class="badge-dot"></span>${DB.STATUSES[t.status]?.label || t.status}</span></td>
        <td>${(t.tags || []).map(tag => `<span style="font-size:.72rem;background:#F3F4F6;padding:2px 8px;border-radius:999px;margin:2px;display:inline-block">${tag}</span>`).join('') || 'â€”'}</td>
        <td><div class="td-actions">
          <button class="btn btn-ghost btn-sm" onclick="moveUp(${i})">â†‘</button>
          <button class="btn btn-ghost btn-sm" onclick="moveDown(${i})">â†“</button>
          <button class="btn btn-ghost btn-sm" onclick="editTool('${t.id}')">âœï¸ ç·¨è¼¯</button>
          <button class="btn btn-danger btn-sm" onclick="deleteTool('${t.id}')">ğŸ—‘ï¸</button>
        </div></td>
      </tr>
    `).join('');
        }

        // â”€â”€ Order â”€â”€
        function moveUp(i) { const t = DB.getTools(); if (i === 0) return;[t[i - 1], t[i]] = [t[i], t[i - 1]]; DB.saveTools(t); renderToolTable(); }
        function moveDown(i) { const t = DB.getTools(); if (i >= t.length - 1) return;[t[i], t[i + 1]] = [t[i + 1], t[i]]; DB.saveTools(t); renderToolTable(); }

        // â”€â”€ Delete â”€â”€
        function deleteTool(id) {
            if (!confirm('ç¢ºå®šåˆªé™¤é€™å€‹å·¥å…·å—ï¼Ÿ')) return;
            const tools = DB.getTools().filter(t => t.id !== id);
            DB.saveTools(tools);
            renderToolTable(); renderDashboard();
            showToast('ğŸ—‘ï¸ å·¥å…·å·²åˆªé™¤');
        }

        // â”€â”€ Tag input system â”€â”€
        let currentTags = [];
        function renderTags() {
            const wrap = document.getElementById('tagsWrap');
            const raw = document.getElementById('tagsRaw');
            wrap.querySelectorAll('.tag-pill-remove').forEach(e => e.remove());
            currentTags.forEach((tag, i) => {
                const pill = document.createElement('span');
                pill.className = 'tag-pill-remove';
                pill.innerHTML = `${tag}<button onclick="removeTag(${i})">Ã—</button>`;
                wrap.insertBefore(pill, raw);
            });
        }
        function removeTag(i) { currentTags.splice(i, 1); renderTags(); }
        function addTag(val) {
            const tags = val.split(/[,ï¼Œ]/).map(s => s.trim()).filter(s => s && !currentTags.includes(s));
            currentTags.push(...tags);
            renderTags();
        }
        document.getElementById('tagsRaw').addEventListener('keydown', e => {
            if (e.key === 'Enter' || e.key === ',' || e.key === 'ï¼Œ') {
                e.preventDefault();
                const v = e.target.value.trim();
                if (v) { addTag(v); e.target.value = ''; }
            }
            if (e.key === 'Backspace' && !e.target.value && currentTags.length) {
                currentTags.pop(); renderTags();
            }
        });
        document.getElementById('tagsRaw').addEventListener('blur', e => {
            const v = e.target.value.trim();
            if (v) { addTag(v); e.target.value = ''; }
        });

        // â”€â”€ Color picker â”€â”€
        let selectedColor = 'c1';
        function selectColor(el, c) {
            document.querySelectorAll('.color-opt').forEach(o => o.classList.remove('selected'));
            el.classList.add('selected'); selectedColor = c;
        }

        // â”€â”€ Tool Modal â”€â”€
        function openToolModal(tool) {
            currentTags = [];
            document.getElementById('toolModalTitle').textContent = tool ? 'ç·¨è¼¯å·¥å…·' : 'æ–°å¢å·¥å…·';
            document.getElementById('tm-id').value = tool?.id || '';
            document.getElementById('tm-icon').value = tool?.icon || 'ğŸ› ï¸';
            document.getElementById('tm-title').value = tool?.title || '';
            document.getElementById('tm-tagline').value = tool?.tagline || '';
            document.getElementById('tm-desc').value = tool?.desc || '';
            document.getElementById('tm-dept').value = tool?.dept || 'factory';
            document.getElementById('tm-status').value = tool?.status || 'live';
            document.getElementById('tm-url').value = tool?.url || '';
            document.getElementById('tm-s1').value = tool?.steps?.[0] || '';
            document.getElementById('tm-s2').value = tool?.steps?.[1] || '';
            document.getElementById('tm-s3').value = tool?.steps?.[2] || '';
            currentTags = [...(tool?.tags || [])];
            renderTags();
            selectedColor = tool?.color || 'c1';
            document.querySelectorAll('.color-opt').forEach(o => {
                o.classList.toggle('selected', o.dataset.color === selectedColor);
            });
            document.getElementById('tagsRaw').value = '';
            document.getElementById('toolModal').classList.add('open');
        }
        function editTool(id) {
            const tool = DB.getTools().find(t => t.id === id);
            if (tool) openToolModal(tool);
        }
        function closeToolModal() { document.getElementById('toolModal').classList.remove('open'); }
        document.getElementById('toolModal').addEventListener('click', e => { if (e.target === e.currentTarget) closeToolModal(); });

        function saveTool() {
            const id = document.getElementById('tm-id').value;
            const title = document.getElementById('tm-title').value.trim();
            const tagline = document.getElementById('tm-tagline').value.trim();
            const desc = document.getElementById('tm-desc').value.trim();
            const url = document.getElementById('tm-url').value.trim();
            const s1 = document.getElementById('tm-s1').value.trim();
            const s2 = document.getElementById('tm-s2').value.trim();
            const s3 = document.getElementById('tm-s3').value.trim();
            if (!title || !tagline || !desc || !url || !s1 || !s2 || !s3) {
                showToast('âš ï¸ è«‹å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½'); return;
            }
            const rawTag = document.getElementById('tagsRaw').value.trim();
            if (rawTag) addTag(rawTag);
            const tool = {
                id: id || DB.generateId(),
                icon: document.getElementById('tm-icon').value || 'ğŸ› ï¸',
                title, tagline, desc,
                dept: document.getElementById('tm-dept').value,
                status: document.getElementById('tm-status').value,
                url,
                color: selectedColor,
                steps: [s1, s2, s3],
                tags: [...currentTags],
                order: 0,
            };
            const tools = DB.getTools();
            if (id) {
                const idx = tools.findIndex(t => t.id === id);
                if (idx > -1) { tool.order = tools[idx].order; tools[idx] = tool; }
            } else {
                tool.order = tools.length;
                tools.push(tool);
            }
            DB.saveTools(tools);
            closeToolModal();
            renderToolTable(); renderDashboard();
            showToast(id ? 'âœ… å·¥å…·å·²æ›´æ–°' : 'âœ… å·¥å…·å·²æ–°å¢');
        }

        // â”€â”€ Hero Form â”€â”€
        function loadHeroForm() {
            const s = DB.getSite();
            document.getElementById('s-heroTitle').value = s.heroTitle || '';
            document.getElementById('s-heroDesc').value = s.heroDesc || '';
            document.getElementById('s-statTools').value = s.statTools || 0;
            document.getElementById('s-statUsers').value = s.statUsers || 0;
            document.getElementById('s-statHours').value = s.statHours || 0;
            document.getElementById('s-siteName').value = s.siteName || '';
        }
        function saveHero() {
            const s = DB.getSite();
            s.heroTitle = document.getElementById('s-heroTitle').value.trim();
            s.heroDesc = document.getElementById('s-heroDesc').value.trim();
            s.statTools = +document.getElementById('s-statTools').value;
            s.statUsers = +document.getElementById('s-statUsers').value;
            s.statHours = +document.getElementById('s-statHours').value;
            s.siteName = document.getElementById('s-siteName').value.trim();
            DB.saveSite(s); showToast('ğŸ’¾ é¦–é è¨­å®šå·²å„²å­˜');
        }

        // â”€â”€ About Form â”€â”€
        function loadAboutForm() {
            const s = DB.getSite();
            document.getElementById('a-name').value = s.aboutName || '';
            document.getElementById('a-role').value = s.aboutRole || '';
            document.getElementById('a-dept').value = s.aboutDept || '';
            document.getElementById('a-bio').value = (s.aboutBio || '').replace(/<strong>/g, '').replace(/<\/strong>/g, '');
            document.getElementById('a-email').value = s.ctaEmail || '';
        }
        function saveAbout() {
            const s = DB.getSite();
            s.aboutName = document.getElementById('a-name').value.trim();
            s.aboutRole = document.getElementById('a-role').value.trim();
            s.aboutDept = document.getElementById('a-dept').value.trim();
            s.aboutBio = document.getElementById('a-bio').value.trim();
            s.ctaEmail = document.getElementById('a-email').value.trim();
            DB.saveSite(s); showToast('ğŸ’¾ é—œæ–¼è¨­å®šå·²å„²å­˜');
        }
    </script>
</body>

</html>